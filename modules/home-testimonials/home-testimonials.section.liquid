{%- assign fields = section.settings -%}

{%- include 'testimonials',
  mod_title: fields['title'],
  mod_testimonials: section.blocks -%}

{%- assign fields = nil -%}

{% schema %}
  {
    "name": "Home Testimonials",
    "max_blocks": 6,
    "settings": [{
      "type": "header",
      "content": "Content"
    }, {
      "type": "text",
      "id": "title",
      "label": "Title"
    }],
    "blocks": [{
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [{
        "type": "range",
        "id": "rating",
        "min": 0,
        "max": 5,
        "step": 0.5,
        "default": 5,
        "label": "Rating"
      }, {
        "type": "textarea",
        "id": "text",
        "label": "Text"
      }, {
        "type": "text",
        "id": "author",
        "label": "Author"
      }]
    }]
  }
{% endschema %}
